---
layout: default
---

<div class="projects-wrap">
  <h1 class="projects-title">{{ page.title }}</h1>

  <div class="projects-filters" id="projects-filters">
    <button class="pill active" data-filter="All">All</button>
    {% assign all_tags = "" | split: "" %}
    {% for p in site.projects %}
      {% for t in p.tags %}
        {% unless all_tags contains t %}
          {% assign all_tags = all_tags | push: t %}
        {% endunless %}
      {% endfor %}
    {% endfor %}

    {% assign all_tags = all_tags | sort %}
    {% for t in all_tags %}
      <button class="pill" data-filter="{{ t }}">{{ t }}</button>
    {% endfor %}
  </div>

  <div class="projects-grid" id="projects-grid">
    {% assign sorted = site.projects | sort: "year" | reverse %}
    {% for p in sorted %}
      <a class="project-card"
         href="{{ p.url | relative_url }}"
         data-tags="{% if p.tags %}{{ p.tags | join: ',' }}{% endif %}">
        <div class="project-meta">{{ p.year }}</div>
        <div class="project-name">{{ p.title }}</div>
        <div class="project-desc">{{ p.excerpt }}</div>

        {% if p.tags %}
        <div class="project-tags">
          {% for t in p.tags %}
            <span class="tag">{{ t }}</span>
          {% endfor %}
        </div>
        {% endif %}
      </a>
    {% endfor %}
  </div>
</div>

<script>
(function () {
  const pills = document.querySelectorAll("#projects-filters .pill");
  const cards = document.querySelectorAll("#projects-grid .project-card");

  function setActive(el){
    pills.forEach(p => p.classList.remove("active"));
    el.classList.add("active");
  }

  function applyFilter(tag){
    cards.forEach(card => {
      const tags = (card.getAttribute("data-tags") || "").split(",").map(s => s.trim());
      const show = (tag === "All") || tags.includes(tag);
      card.style.display = show ? "" : "none";
    });
  }

  pills.forEach(pill => {
    pill.addEventListener("click", () => {
      const tag = pill.getAttribute("data-filter");
      setActive(pill);
      applyFilter(tag);
    });
  });
})();
</script>
